(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+Ht4":function(e,t,n){"use strict";n.r(t);n("91GP");var r=n("mXGw"),a=n.n(r),o=n("xARA"),i=n("+qjn");var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.startTime,n=e.endTime,r=e.onChangeDay,o=e.allDay,i=e.onChangeAllDay,u=e.selectedTime,l=Math.round((n-t)/864e5),s=function(e){var t=new Date(e);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()};return a.a.createElement("div",{className:"control-panel"},a.a.createElement("h3",null,"Heatmap"),a.a.createElement("p",null,"Map showing earthquakes",a.a.createElement("br",null),"from ",a.a.createElement("b",null,s(t))," to ",a.a.createElement("b",null,s(n)),"."),a.a.createElement("hr",null),a.a.createElement("div",{className:"input"},a.a.createElement("label",null,"All Days"),a.a.createElement("input",{type:"checkbox",name:"allday",checked:o,onChange:function(e){return i(e.target.checked)}})),a.a.createElement("div",{className:"input "+(o?"disabled":"")},a.a.createElement("label",null,"Each Day: ",s(u)),a.a.createElement("input",{type:"range",disabled:o,min:1,max:l,step:1,onChange:function(e){var n=e.target.value;r(t+864e5*n)}})),a.a.createElement("hr",null),a.a.createElement("p",null,"Data source:"," ",a.a.createElement("a",{href:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson"},"earthquakes.geojson")),a.a.createElement("div",{className:"source-link"},a.a.createElement("a",{href:"https://github.com/uber/react-map-gl/tree/5.2-release/examples/heatmap",target:"_new"},"View Code â†—")))},r}(r.PureComponent),l=n("DRYM"),s={maxzoom:9,type:"heatmap",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,0,6,1],"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",.9,"rgb(255,201,101)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,0]}};function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"default",(function(){return p})),n.d(t,"renderToDom",(function(){return h}));function f(e,t){var n=new Date(t),r=n.getFullYear(),a=n.getMonth(),o=n.getDate();return{type:"FeatureCollection",features:e.features.filter((function(e){var t=new Date(e.properties.time);return t.getFullYear()===r&&t.getMonth()===a&&t.getDate()===o}))}}var p=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._onViewportChange=function(e){return n.setState({viewport:e})},n._handleChangeDay=function(e){n.setState({selectedTime:e}),n.state.earthquakes&&n.setState({data:f(n.state.earthquakes,e)})},n._handleChangeAllDay=function(e){n.setState({allDay:e}),n.state.earthquakes&&n.setState({data:e?n.state.earthquakes:f(n.state.earthquakes,n.state.selectedTime)})};var r=(new Date).getTime();return n.state={viewport:{latitude:40,longitude:-100,zoom:3,bearing:0,pitch:0},allDay:!0,startTime:r,endTime:r,selectedTime:r,earthquakes:null},n._handleChangeDay=n._handleChangeDay.bind(c(n)),n._handleChangeAllDay=n._handleChangeAllDay.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this;Object(l.a)("https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson",(function(t,n){if(!t){var r=n.features,a=r[0].properties.time,o=r[r.length-1].properties.time;e.setState({data:n,earthquakes:n,endTime:a,startTime:o,selectedTime:a})}}))},o.render=function(){var e=this.state,t=e.viewport,n=e.data,r=e.allDay,o=e.selectedTime,l=e.startTime,c=e.endTime;return a.a.createElement("div",{style:{height:"100%",position:"relative"}},a.a.createElement(i.default,Object.assign({},t,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/dark-v9",onViewportChange:this._onViewportChange,mapboxApiAccessToken:""}),n&&a.a.createElement(i.Source,{type:"geojson",data:n},a.a.createElement(i.Layer,s))),a.a.createElement(u,{containerComponent:this.props.containerComponent,startTime:l,endTime:c,selectedTime:o,allDay:r,onChangeDay:this._handleChangeDay,onChangeAllDay:this._handleChangeAllDay}))},r}(r.Component);function h(e){Object(o.render)(a.a.createElement(p,null),e)}},DRYM:function(e,t,n){"use strict";var r=n("bwSX"),a=(n("f3/d"),n("V+eJ"),n("Tze0"),n("KKXr"),n("bWfx"),{value:function(){}});function o(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function u(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function l(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=a,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}i.prototype=o.prototype={constructor:i,on:function(e,t){var n,r=this._,a=u(e+"",r),o=-1,i=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<i;)if(n=(e=a[o]).type)r[n]=s(r[n],e.name,t);else if(null==t)for(n in r)r[n]=s(r[n],e.name,null);return this}for(;++o<i;)if((n=(e=a[o]).type)&&(n=l(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};var c=o,f=function(e,t){var n,a,o,i,u=c("beforesend","progress","load","error"),l=Object(r.a)(),s=new XMLHttpRequest,f=null,p=null,h=0;function m(e){var t,r=s.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(s)||r>=200&&r<300||304===r){if(o)try{t=o.call(n,s)}catch(a){return void u.call("error",n,a)}else t=s;u.call("load",n,t)}else u.call("error",n,e)}if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=m:s.onreadystatechange=function(e){s.readyState>3&&m(e)},s.onprogress=function(e){u.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l.get(e):(null==t?l.remove(e):l.set(e,t+""),n)},mimeType:function(e){return arguments.length?(a=null==e?null:e+"",n):a},responseType:function(e){return arguments.length?(i=e,n):i},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?f:(f=null==e?null:e+"",n)},password:function(e){return arguments.length<1?p:(p=null==e?null:e+"",n)},response:function(e){return o=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,o){return s.open(t,e,!0,f,p),null==a||l.has("accept")||l.set("accept",a+",*/*"),s.setRequestHeader&&l.each((function(e,t){s.setRequestHeader(t,e)})),null!=a&&s.overrideMimeType&&s.overrideMimeType(a),null!=i&&(s.responseType=i),h>0&&(s.timeout=h),null==o&&"function"==typeof r&&(o=r,r=null),null!=o&&1===o.length&&(o=function(e){return function(t,n){e(null==t?n:null)}}(o)),null!=o&&n.on("error",o).on("load",(function(e){o(null,e)})),u.call("beforesend",n,s),s.send(null==r?null:r),n},abort:function(){return s.abort(),n},on:function(){var e=u.on.apply(u,arguments);return e===u?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};var p=function(e,t){return function(n,r){var a=f(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return a.get(r)}return a}},h=(p("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),p("application/json",(function(e){return JSON.parse(e.responseText)}))),m=(p("text/plain",(function(e){return e.responseText})),p("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),n("pIFo"),n("Oyvg"),n("8+KV"),n("hHhE"),{}),d={};function g(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function v(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function y(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function w(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+y(-t,6):t>9999?"+"+y(t,6):y(t,4))+"-"+y(e.getUTCMonth()+1,2)+"-"+y(e.getUTCDate(),2)+(o?"T"+y(n,2)+":"+y(r,2)+":"+y(a,2)+"."+y(o,3)+"Z":a?"T"+y(n,2)+":"+y(r,2)+":"+y(a,2)+"Z":r||n?"T"+y(n,2)+":"+y(r,2)+"Z":"")}var b=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,a=[],o=e.length,i=0,u=0,l=o<=0,s=!1;function c(){if(l)return d;if(s)return s=!1,m;var t,r,a=i;if(34===e.charCodeAt(a)){for(;i++<o&&34!==e.charCodeAt(i)||34===e.charCodeAt(++i););return(t=i)>=o?l=!0:10===(r=e.charCodeAt(i++))?s=!0:13===r&&(s=!0,10===e.charCodeAt(i)&&++i),e.slice(a+1,t-1).replace(/""/g,'"')}for(;i<o;){if(10===(r=e.charCodeAt(t=i++)))s=!0;else if(13===r)s=!0,10===e.charCodeAt(i)&&++i;else if(r!==n)continue;return e.slice(a,t)}return l=!0,e.slice(a,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==d;){for(var f=[];r!==m&&r!==d;)f.push(r),r=c();t&&null==(f=t(f,u++))||a.push(f)}return a}function a(t,n){return t.map((function(t){return n.map((function(e){return i(t[e])})).join(e)}))}function o(t){return t.map(i).join(e)}function i(e){return null==e?"":e instanceof Date?w(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,a,o=r(e,(function(e,r){if(n)return n(e,r-1);a=e,n=t?function(e,t){var n=g(e);return function(r,a){return t(n(r),a,e)}}(e,t):g(e)}));return o.columns=a||[],o},parseRows:r,format:function(t,n){return null==n&&(n=v(t)),[n.map(i).join(e)].concat(a(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=v(e)),a(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:i}},T=b(","),C=T.parse,E=(T.parseRows,T.format,T.formatBody,T.formatRows,T.formatRow,T.formatValue,function(e,t){return function(n,r,a){arguments.length<3&&(a=r,r=null);var o=f(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(D(t,r=e)):r},o.row(r),a?o.get(a):o}});function D(e,t){return function(n){return e(n.responseText,t)}}E("text/csv",C);var k=b("\t"),x=k.parse;k.parseRows,k.format,k.formatBody,k.formatRows,k.formatRow,k.formatValue,E("text/tab-separated-values",x);n.d(t,"a",(function(){return h}))},bwSX:function(e,t,n){"use strict";n("rGqo"),n("yt8O"),n("Btvt"),n("Vd3H"),n("LK8F");function r(){}function a(e,t){var n=new r;if(e instanceof r)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var a,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(a=e[o],o,e),a)}else if(e)for(var u in e)n.set(u,e[u]);return n}r.prototype=a.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=a;function i(){}var u=o.prototype;function l(e,t){var n=new i;if(e instanceof i)e.each((function(e){n.add(e)}));else if(e){var r=-1,a=e.length;if(null==t)for(;++r<a;)n.add(e[r]);else for(;++r<a;)n.add(t(e[r],r,e))}return n}i.prototype=l.prototype={constructor:i,has:u.has,add:function(e){return this["$"+(e+="")]=e,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};n.d(t,"a",(function(){return o}))}}]);